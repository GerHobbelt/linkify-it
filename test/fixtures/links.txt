%
% Regular links
%
My http://example.com site
http://example.com

My http://example.com/ site
http://example.com/

http://example.com/foo_bar/

http://user:pass@example.com:8080

http://user@example.com

http://user@example.com:8080

http://user:pass@example.com

[https](https://www.ibm.com)[mailto](mailto:someone@ibm.com) % should not catch as auth (before @ in big link)
https://www.ibm.com

http://example.com:8080

http://example.com/?foo=bar

http://example.com?foo=bar

http://example.com/#foo=bar

http://example.com#foo=bar

http://a.in

HTTP://GOOGLE.COM

http://example.invalid % don't restrict root domain when schema exists
http://example.invalid

http://inrgess2 % Allow local domains to end with digit
http://inrgess2

http://999      % ..and start with digit, and have digits only
http://999

http://host-name % local domain with dash
http://host-name

>>example.com % markdown blockquote
example.com

>>http://example.com % markdown blockquote
http://example.com

http://lyricstranslate.com/en/someone-you-നിന്നെ-പോലൊരാള്‍.html % With control character
http://lyricstranslate.com/en/someone-you-നിന്നെ-പോലൊരാള്‍.html

%
% localhost (only with protocol allowed)
%
//localhost

//test.123

http://localhost:8000?
http://localhost:8000


%
% Other protocols
%
My ssl https://example.com site
https://example.com

My ftp://example.com site
ftp://example.com


%
% Neutral proto
%
My ssl //example.com site
//example.com

%
% IPs
%
4.4.4.4

192.168.1.1/abc


%
% Fuzzy
%
test.example@http://vk.com
http://vk.com

text:http://example.com/
http://example.com/

google.com

google.com: // no port
google.com

s.l.o.w.io

a-b.com

GOOGLE.COM.
GOOGLE.COM

google.xxx // known tld
google.xxx


%
% Correct termination for . , ! ? [] {} () "" ''
%
(Scoped http://example.com/foo_bar)
http://example.com/foo_bar

http://example.com/foo_bar_(wiki)

http://foo.com/blah_blah_[other]

http://foo.com/blah_blah_{I'm_king}

http://foo.com/blah_blah_I'm_king

http://www.kmart.com/bestway-10'-x-30inch-steel-pro-frame-pool/p-004W007538417001P

http://foo.com/blah_blah_"doublequoted"

http://foo.com/blah_blah_'singlequoted'

(Scoped like http://example.com/foo_bar)
http://example.com/foo_bar

[Scoped like http://example.com/foo_bar]
http://example.com/foo_bar

{Scoped like http://example.com/foo_bar}
http://example.com/foo_bar

"Quoted like http://example.com/foo_bar"
http://example.com/foo_bar

'Quoted like http://example.com/foo_bar'
http://example.com/foo_bar

[example.com/foo_bar.jpg)]
example.com/foo_bar.jpg

http://example.com/foo_bar.jpg.
http://example.com/foo_bar.jpg

http://example.com/foo_bar/.
http://example.com/foo_bar/

http://example.com/foo_bar,
http://example.com/foo_bar

https://github.com/markdown-it/linkify-it/compare/360b13a733f521a8d4903d3a5e1e46c357e9d3ce...f580766349525150a80a32987bb47c2d592efc33

http://example.com/foo_bar...
http://example.com/foo_bar

http://172.26.142.48/viewerjs/#../0529/slides.pdf

% observed in the wild: single page web apps which use an empty bookmark section:
http://172.26.142.48/viewerjs/#

http://example.com/foo_bar..
http://example.com/foo_bar

http://example.com/foo_bar?p=10.
http://example.com/foo_bar?p=10

https://www.google.ru/maps/@59.9393895,30.3165389,15z?hl=ru

https://www.google.com/maps/place/New+York,+NY,+USA/@40.702271,-73.9968471,11z/data=!4m2!3m1!1s0x89c24fa5d33f083b:0xc80b8f06e177fe62?hl=en

https://www.google.com/analytics/web/?hl=ru&pli=1#report/visitors-overview/a26895874w20458057p96934174/

http://business.timesonline.co.uk/article/0,,9065-2473189,00.html

http://example.com/123!
http://example.com/123

http://example.com/123!456

http://example.com/foo--bar

% some sites have links with trailing dashes
http://www.bloomberg.com/news/articles/2015-06-26/from-deutsche-bank-to-siemens-what-s-troubling-germany-inc-

http://example.com/foo-with-trailing-dash-dot-.
http://example.com/foo-with-trailing-dash-dot-

<http://domain.com>
http://domain.com

<http://domain.com>.
http://domain.com

<http://domain.com/foo>
http://domain.com/foo

<http://domain.com/foo>.
http://domain.com/foo

<domain.com>
domain.com

<domain.com>.
domain.com

<domain.com/foo>
domain.com/foo

<user@domain.com>
user@domain.com

<user@domain.com>.
user@domain.com

<mailto:user@domain.com>
mailto:user@domain.com


% Paired underscores should still be part of the URL
https://test.com/a--_b_.html

http://www.kmart.com/bestway-10'-x-30inch-steel-pro-frame-pool/p-004W007538417001P


%
% Emails
%

test."foo".bar@gmail.co.uk!
test."foo".bar@gmail.co.uk

name@example.com

>>name@example.com % markdown blockquote
name@example.com

mailto:name@example.com

MAILTO:NAME@EXAMPLE.COM

mailto:foo_bar@example.com

foo+bar@gmail.com

192.168.1.1@gmail.com

mailto:foo@bar      % explicit protocol make it valid
mailto:foo@bar

mailto:someone@example.com?subject=This%20is%20the%20subject&cc=someone_else@example.com&body=This%20is%20the%20body

(foobar email@example.com)
email@example.com

(email@example.com foobar)
email@example.com

(email@example.com)
email@example.com

(someone@example.com?subject=This%20is%20the%20subject&cc=someone_else@example.com&body=This%20is%20the%20body)
someone@example.com?subject=This%20is%20the%20subject&cc=someone_else@example.com&body=This%20is%20the%20body


%
% Phone Numbers (`tel:` schema)
%

Phone & Whatsapp: tel:+31 (0) 6 42434455
tel:+31 (0) 6 42434455

tel:(202) 885-1000

tel:+34 912 754 779


%
% International
%
http://✪df.ws/123

http://xn--df-oiy.ws/123

a.ws

➡.ws/䨹

example.com/䨹

президент.рф


% Links below provided by diaspora* guys, to make sure regressions will not happen.
% Those left here for historic reasons.

http://www.bürgerentscheid-krankenhäuser.de

http://www.xn--brgerentscheid-krankenhuser-xkc78d.de

http://bündnis-für-krankenhäuser.de/wp-content/uploads/2011/11/cropped-logohp.jpg

http://xn--bndnis-fr-krankenhuser-i5b27cha.de/wp-content/uploads/2011/11/cropped-logohp.jpg

http://ﻡﻮﻘﻋ.ﻭﺯﺍﺭﺓ-ﺍﻼﺘﺻﺍﻼﺗ.ﻢﺻﺭ/

http://xn--4gbrim.xn----ymcbaaajlc6dj7bxne2c.xn--wgbh1c/


% some urls have nested parens
http://example.com/render?target=summarize(deriviative(app.numUsers),%221min%22)&title=New_Users_Per_Minute

http://example.com/foo-(with-nested-(parens)).
http://example.com/foo-(with-nested-(parens))

http://example.com/(foo) (bar)
http://example.com/(foo)

http://example.com/foo-(with-nested-(parens-(sans-trailing-dot)))
http://example.com/foo-(with-nested-(parens-(sans-trailing-dot)))

http://example.com/foo-(with-nested-(parens-(-trailing-dot))).
http://example.com/foo-(with-nested-(parens-(-trailing-dot)))

http://example.com/foo-(with-unmatched-(parens-(-yes).
http://example.com/foo-(with-unmatched-(parens-(-yes)

http://example.com/foo-(w(i)(th)((-well-(matc)he(((d-(parens-(-yes)))))))).   % Gee! An insane nesting level! Matched!
http://example.com/foo-(w(i)(th)((-well-(matc)he(((d-(parens-(-yes))))))))

http://example.com/foo-(w(i)(th)((-un(matc)he(((d-(parens-(-yes)).   % Gee! An insane nesting level! With UNMatched braces!
http://example.com/foo-(w(i)(th)((-un(matc)he(((d-(parens-(-yes))


%
% PHP array parameters and other oddities
%

% $url = 'http://www.example.com?aParam[]=value1&aParam[]=value2&aParam[]=value3';
http://www.example.com?aParam[]=value1&aParam[]=value2&aParam[]=value3

http://www.example.com?aParam[0]=1&aParam[1]=4&aParam[a]=b&aParam[c]=d


%
% Others...
%
｜www.google.com/www.google.com/foo｜bar    % #46, asian vertical pipes
www.google.com/www.google.com/foo

｜test@google.com｜bar
test@google.com

｜http://google.com｜bar
http://google.com

%
% Domains with multiple dashes
%

https://5b0ee223b312746c1659db3f--thelounge-chat.netlify.com/docs/

www.a--b.com

www.c--u.com

http://a---b.com/


%
% RFC3986
%

ftp://ftp.is.co.za/rfc/rfc1808.txt

http://www.ietf.org/rfc/rfc2396.txt

https://[2001:db8::7]/c=GB?objectClass?one

mailto:John.Doe@example.com

news:comp.infosystems.www.servers.unix

tel:+1-816-555-1212

telnet://192.0.2.16:80/

http://example.com:8042/over/there?name=ferret#nose

% Also legal and seen in the wild quite often: the empty bookmark #:
http://example.com:8042/over/there#

www.w3.org/Addressing/

/a/b/c/./../../g

mid/content=5/../6

http://a/b/c/g;x?y#s

../../../g

/./g

http://a/b/c/%7Bfoo%7D

http://a/./b/../b/%63/%7bfoo%7d

% must eat only 'legal' escapes:
http://a/./b/../b/%G63/%7bfoo%zz
http://a/./b/../b/

http://example.com

http://example.com/

% we MAY NOT see a port when host is followed by :
http://example.com:/
http://example.com

http://example.com:80/

sftp://cnn.example.com&story=breaking_news@10.0.0.1/top_story.htm

http://www.ics.uci.edu/pub/ietf/uri/#Related

%
% IPv6 ~ RFC3513 + RFC3986
%

http://[1080:0:0:0:8:800:200C:417A]:80/ietf/uri

http://[1080:0:0:0:8:800:200C:417A]/ietf/uri

http://[FF01:0:0:0:0:0:0:101]:80/ietf/uri

http://[FF01:0:0:0:0:0:0:101]/ietf/uri

http://[0:0:0:0:0:0:0:1]:80/ietf/uri

http://[0:0:0:0:0:0:0:1]/ietf/uri

http://[1080::8:800:200C:417A]:80/ietf/uri

http://[1080::8:800:200C:417A]/ietf/uri

http://[FF01::101]:80/ietf/uri

http://[FF01::101]/ietf/uri

http://[::1]:80/ietf/uri

http://[::1]/ietf/uri

% IPv6 wrapping IP4 cf. RFC:

http://[0:0:0:0:0:0:13.1.68.3]:80/ietf/uri

http://[0:0:0:0:0:0:13.1.68.3]/ietf/uri

http://[0:0:0:0:0:FFFF:129.144.52.38]:80/ietf/uri

http://[0:0:0:0:0:FFFF:129.144.52.38]/ietf/uri

http://[::13.1.68.3]:80/ietf/uri

http://[::13.1.68.3]/ietf/uri

http://[::FFFF:129.144.52.38]:80/ietf/uri

http://[::FFFF:129.144.52.38]/ietf/uri


